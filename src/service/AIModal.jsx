import { GoogleGenerativeAI } from "@google/generative-ai";

const apikey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apikey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,

  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
            text:"```json\n{\n \n    \"hotels\": [\n      {\n        \"hotelName\": \"Generator Paris\",\n        \"address\": \"9 Place du Colonel Fabien, 75010 Paris, France\",\n        \"pricePerNight\": \"$70 - $120 (private room)\",\n        \"imageUrl\": \"https://example.com/generator-paris.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 48.8789,\n          \"longitude\": 2.3683\n        },\n        \"rating\": 4.0,\n        \"description\": \"A stylish hostel with private rooms available, a rooftop bar, and a lively atmosphere. Good public transport links.\"\n      },\n      {\n        \"hotelName\": \"Hôtel Richard\",\n        \"address\": \"33 Rue du Faubourg Saint-Antoine, 75011 Paris, France\",\n        \"pricePerNight\": \"$80 - $130\",\n        \"imageUrl\": \"https://example.com/hotel-richard.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 48.8504,\n          \"longitude\": 2.3734\n        },\n        \"rating\": 3.0,\n        \"description\": \"A simple, clean, and well-located hotel offering good value for money, especially for those looking to explore Bastille and Le Marais.\"\n      },\n      {\n        \"hotelName\": \"Hôtel Campanile Paris 19 - La Villette\",\n        \"address\": \"159 Boulevard Macdonald, 75019 Paris, France\",\n        \"pricePerNight\": \"$90 - $140\",\n        \"imageUrl\": \"https://example.com/campanile-villette.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 48.8967,\n          \"longitude\": 2.3815\n        },\n        \"rating\": 3.5,\n        \"description\": \"A modern hotel near Parc de la Villette, offering comfortable rooms and good access to public transport for reaching central attractions.\"\n      },\n      {\n        \"hotelName\": \"Ibis Budget Paris Porte de Montmartre\",\n        \"address\": \"45 Rue du Docteur Babinski, 75018 Paris, France\",\n        \"pricePerNight\": \"$60 - $100\",\n        \"imageUrl\": \"https://example.com/ibis-montmartre.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 48.9009,\n          \"longitude\": 2.3396\n        },\n        \"rating\": 3.0,\n        \"description\": \"A straightforward budget hotel offering essential comforts, located near public transport for easy access to sights.\"\n      }\n     \n    ],\n    \"itinerary\": [\n      {\n        \"day\": 1,\n        \"theme\": \"Eiffel Tower & Riverside Stroll\",\n        \"plan\": [\n          {\n            \"time\": \"10:00 AM - 1:00 PM\",\n            \"placeName\": \"Eiffel Tower\",\n            \"placeDetails\": \"Visit the iconic Eiffel Tower. Consider taking the stairs for a cheaper ticket and a unique experience. Enjoy the views from Champ de Mars.\",\n            \"imageUrl\": \"https://example.com/eiffel-tower.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8584,\n              \"longitude\": 2.2945\n            },\n            \"ticketPricing\": \"Stairs: ~€11.30, Lift to 2nd floor: ~€18.10, Lift to top: ~€28.30\",\n            \"rating\": 4.8,\n            \"timeToTravel\": \"2-3 hours\",\n            \"bestTimeToVisit\": \"Morning (fewer crowds for entry) or Sunset (for views)\"\n          },\n          {\n            \"time\": \"1:00 PM - 2:00 PM\",\n            \"placeName\": \"Picnic at Champ de Mars\",\n            \"placeDetails\": \"Enjoy a budget-friendly picnic lunch with stunning views of the Eiffel Tower.\",\n            \"imageUrl\": \"https://example.com/champ-de-mars-picnic.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8562,\n              \"longitude\": 2.2982\n            },\n            \"ticketPricing\": \"Cost of groceries\",\n            \"rating\": 4.6,\n            \"timeToTravel\": \"1 hour\",\n            \"bestTimeToVisit\": \"Lunchtime\"\n          },\n          {\n            \"time\": \"2:30 PM - 5:00 PM\",\n            \"placeName\": \"Seine River Walk & Pont Neuf\",\n            \"placeDetails\": \"Stroll along the Seine River, cross historic bridges like Pont Neuf (the oldest standing bridge in Paris), and soak in the city's atmosphere.\",\n            \"imageUrl\": \"https://example.com/seine-river.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8573,\n              \"longitude\": 2.3414\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n            \"timeToTravel\": \"2-3 hours\",\n            \"bestTimeToVisit\": \"Afternoon\"\n          },\n          {\n            \"time\": \"6:00 PM - 7:00 PM\",\n            \"placeName\": \"Trocadéro Gardens (for Eiffel Tower views)\",\n            \"placeDetails\": \"Witness spectacular views of the Eiffel Tower, especially as it begins to sparkle after dark.\",\n            \"imageUrl\": \"https://example.com/trocadero-eiffel-night.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8624,\n              \"longitude\": 2.2882\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.9,\n            \"timeToTravel\": \"1 hour\",\n            \"bestTimeToVisit\": \"Sunset/Evening\"\n          }\n        ]\n      },\n      {\n        \"day\": 2,\n        \"theme\": \"Museums, Gardens & Latin Quarter\",\n        \"plan\": [\n          {\n            \"time\": \"9:30 AM - 12:30 PM\",\n            \"placeName\": \"Musée du Louvre (Exterior & Courtyard)\",\n            \"placeDetails\": \"For a cheap budget, admire the stunning architecture of the Louvre Museum and its iconic pyramid from the outside. Entry to the courtyard is free.\",\n            \"imageUrl\": \"https://example.com/louvre-exterior.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8606,\n              \"longitude\": 2.3376\n            },\n            \"ticketPricing\": \"Free (exterior/courtyard), Interior: ~€17 (book online)\",\n            \"rating\": 4.7,\n            \"timeToTravel\": \"2-3 hours\",\n            \"bestTimeToVisit\": \"Morning\"\n          },\n          {\n            \"time\": \"12:30 PM - 1:30 PM\",\n            \"placeName\": \"Tuileries Garden\",\n            \"placeDetails\": \"Stroll through the beautiful Tuileries Garden, located between the Louvre and Place de la Concorde.\",\n            \"imageUrl\": \"https://example.com/tuileries-garden.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8637,\n              \"longitude\": 2.3275\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.6,\n            \"timeToTravel\": \"1 hour\",\n            \"bestTimeToVisit\": \"Afternoon\"\n          },\n          {\n            \"time\": \"2:00 PM - 4:00 PM\",\n            \"placeName\": \"Notre Dame Cathedral (Exterior) & Île de la Cité\",\n            \"placeDetails\": \"View the exterior of the magnificent Notre Dame Cathedral (currently under renovation). Explore the charming Île de la Cité, home to the cathedral.\",\n            \"imageUrl\": \"https://example.com/notre-dame-exterior.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8530,\n              \"longitude\": 2.3499\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n            \"timeToTravel\": \"1-2 hours\",\n            \"bestTimeToVisit\": \"Afternoon\"\n          },\n          {\n            \"time\": \"4:30 PM - 7:00 PM\",\n            \"placeName\": \"Latin Quarter & Shakespeare and Company\",\n            \"placeDetails\": \"Wander through the historic Latin Quarter, explore its narrow streets, independent bookstores like Shakespeare and Company, and lively atmosphere.\",\n            \"imageUrl\": \"https://example.com/latin-quarter.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8516,\n              \"longitude\": 2.3435\n            },\n            \"ticketPricing\": \"Free (browsing), Books extra\",\n            \"rating\": 4.5,\n            \"timeToTravel\": \"2-3 hours\",\n            \"bestTimeToVisit\": \"Late afternoon/Evening\"\n          }\n        ]\n      },\n      {\n        \"day\": 3,\n        \"theme\": \"Montmartre & Departure\",\n        \"plan\": [\n          {\n            \"time\": \"10:00 AM - 1:00 PM\",\n            \"placeName\": \"Sacré-Cœur Basilica & Montmartre\",\n            \"placeDetails\": \"Visit the stunning Sacré-Cœur Basilica (free entry) and enjoy panoramic views of Paris. Explore the charming streets of Montmartre, visit Place du Tertre with its artists.\",\n            \"imageUrl\": \"https://example.com/sacre-coeur-montmartre.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8867,\n              \"longitude\": 2.3431\n            },\n            \"ticketPricing\": \"Free (Basilica), Funicular: standard metro ticket\",\n            \"rating\": 4.7,\n            \"timeToTravel\": \"2-3 hours\",\n            \"bestTimeToVisit\": \"Morning (fewer crowds)\"\n          },\n          {\n            \"time\": \"1:00 PM - 2:00 PM\",\n            \"placeName\": \"Lunch in Montmartre\",\n            \"placeDetails\": \"Enjoy a casual and affordable lunch at one of the many cafes or creperies in Montmartre.\",\n            \"imageUrl\": \"https://example.com/montmartre-cafe.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8872,\n              \"longitude\": 2.3433\n            },\n            \"ticketPricing\": \"Cost of meal\",\n            \"rating\": 4.0,\n            \"timeToTravel\": \"1 hour\",\n            \"bestTimeToVisit\": \"Lunchtime\"\n          },\n          {\n            \"time\": \"2:30 PM - 4:00 PM\",\n            \"placeName\": \"Moulin Rouge (Exterior) & Pigalle\",\n            \"placeDetails\": \"Walk past the iconic Moulin Rouge cabaret and explore the lively Pigalle district.\",\n            \"imageUrl\": \"https://example.com/moulin-rouge-exterior.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 48.8842,\n              \"longitude\": 2.3323\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.2,\n            \"timeToTravel\": \"1-1.5 hours\",\n            \"bestTimeToVisit\": \"Afternoon\"\n          }\n        ]\n      }\n    ]\n  }\n"
        },
      ],
    },
  ],
});
